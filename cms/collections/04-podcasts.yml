name: podcasts
label: Podcasts
icon: mic
label_singular: Episode
description: Podcast episodes with metadata and linked interviewees.
folder: content/podcasts
create: true
hide: false
delete: true
slug: "{{fields.slug}}"
summary: "{{title}} — {{talent | join(', ')}}"
preview_path: "podcasts/{{slug}}"

fields:
  - name: title
    label: Title
    widget: string

  - name: draft
    label: Draft
    widget: boolean
    required: false

  - name: description
    label: Description
    widget: markdown
    required: false

  - name: body
    label: Body
    widget: markdown
    required: false

  - name: date
    label: Publish Date
    widget: datetime
    format: "YYYY-MM-DDTHH:mm:ssZ"
    required: false

  - name: thumb
    label: Episode Artwork
    widget: image
    required: false

  - label: Tags
    name: tags
    widget: relation
    collection: tags
    value_field: "{{slug}}"
    display_fields: [title]
    search_fields: [title, description]
    multiple: true
    required: false
    dropdown_threshold: 12

  - name: mp3
    label: MP3 filename
    widget: string
    required: false
    hint: "Filename only (no URL). Must end with .mp3. Example: birth-of-buddha-relaxivity.mp3"
    pattern:
      - '^[A-Za-z0-9][A-Za-z0-9._-]*\.mp3$'
      - "Use a filename ending in .mp3 (letters/numbers/dots/dashes/underscores only). No spaces, no URL."

  - name: duration
    label: Duration
    widget: string
    required: false
    hint: "Use MM:SS or HH:MM:SS. Examples: 6:57 or 01:06:57"
    pattern:
      - "^([0-9]{1,2}:)?[0-5]?[0-9]:[0-5][0-9]$"
      - "Use MM:SS (e.g. 6:57) or HH:MM:SS (e.g. 01:06:57)."

  - name: length
    label: File size (bytes)
    widget: string
    required: false
    hint: "Bytes only. Digits and commas allowed. Example: 20,971,520 (≈20 MB). No MB/KB words."
    pattern:
      - "^[0-9]{1,3}(?:,[0-9]{3})*$|^[0-9]+$"
      - "Enter bytes as digits (optionally with commas). Example: 20971520 or 20,971,520. Don’t include MB/KB."
